---
layout: post
title: Automatic Update Of Moles References To Other Solution Projects
date: '2010-12-20T15:50:00.000+02:00'
author: Juri Timo≈°in
tags:
- C#
- Moles
modified_time: '2010-12-20T15:50:16.006+02:00'
blogger_id: tag:blogger.com,1999:blog-360329120074358364.post-8948787555333333020
blogger_orig_url: http://dracoater.blogspot.com/2010/12/automatic-update-of-moles-references-to.html
---

<p>The situation: I have a solution with several projects in it. One of them is UnitTest project, that uses Moles for mocking. And it has referenses to other projecs in solution as well as to their moled dlls. Every time I change code in my projects and rebuild them, the UnitTest project loses the references to moled dlls, as they allready have other versions. I see that Moles builds new versions of projects' dlls, but it does not update references. Why?</p>
<p>RTFM, Juri.</p>
<p>From the <a class="external" href="http://research.microsoft.com/en-us/projects/pex/molesmanual.pdf">Microsoft Moles Reference Manual (page 12)</a></p>
<blockquote><i>The Moles framework for Visual Studio monitors build events and automatically forces the regeneration of stub types for projects that have been updated. For efficiency 
reasons, this automatic update only works for <code>.moles</code> files that are in the <b>top level 
folder of the project</b>, to avoid walking large nested project structures. This automatic 
update creates a smooth experience when writing code in a test-driven development 
style.</i></blockquote>
<p>So the automatic update of references works only for <code>.moles</code> files that are in the same folder with the project file. But I have moved all the <code>.moles</code> files into separate folder.</p>
<p>Now that I moved all the <code>.moles</code> files back, it is working.</p>