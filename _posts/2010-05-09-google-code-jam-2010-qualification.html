---
layout: post
title: Google Code Jam  2010 - Qualification round
date: '2010-05-09T10:22:00.004+03:00'
author: Juri Timo≈°in
tags:
- C++
- Google
- Code Jam
modified_time: '2010-07-09T13:17:31.263+03:00'
blogger_id: tag:blogger.com,1999:blog-360329120074358364.post-6308490826043772961
blogger_orig_url: http://dracoater.blogspot.com/2010/05/google-code-jam-2010-qualification.html
---

<p>Qualification round of Google Code Jam is over, I have managed to get only 53 points of 99 possible. Not a very good start, but nevertheless I proceeded to Round 1. Here is some of my code, that I solved the problems with.</p>
<h3>Snapper Chain</h3>
<p>It was the easiest problem to solve. (<a href="http://code.google.com/codejam/contest/dashboard?c=433101#s=p0" class="external">Problem Text</a>) The key to the solution is that the chain shows number of snaps in binary (actually last n bits of it), and light is on when all snappers are in ON state (= the last n bits are all equal to 1).</p>
<pre><code class="cpp">#include &lt;iostream&gt;
#include &lt;math.h&gt;

using namespace std;

int main(){
  unsigned int t, n, k;
  cin &gt;&gt; t;
  for (unsigned int i=1; i&lt;=t; i++){
    cin &gt;&gt; n &gt;&gt; k;
    unsigned int d = (1U &lt;&lt; n ) - 1;

    cout &lt;&lt; &quot;Case #&quot; &lt;&lt; i &lt;&lt; &quot;: &quot; &lt;&lt;
          (  (k &amp; d) == d ? &quot;ON&quot; : &quot;OFF&quot; ) &lt;&lt; endl;
  }
}</code></pre>
<p>Provided code was successful with large input too.</p>
<h3>Fair Warning</h3>
<p>This one was a little bit harder. (<a href="http://code.google.com/codejam/contest/dashboard?c=433101#s=p1" class="external">Problem Text</a>) The key is that the difference is time between any 2 events stays the same, no matter how big/small number of starboseconds we add to all of them. So we need a greatest common divisor of the differences.</p>
<pre><code class="cpp" >#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

using namespace std;

typedef unsigned int uint;

uint gcd( uint a, uint b ){
  if ( b == 0 ) return a;
  return gcd( b, a % b );
}

uint op_minus( uint a, uint b){
  return a &gt; b ? a - b : b - a;
}

int main(){
  uint c, n, tmp;
  cin &gt;&gt; c;
  for (uint i=1; i&lt;=c; i++){
    cin &gt;&gt; n;
    vector&lt;uint&gt; t;
    for (uint j=0; j&lt;n; j++){
      cin &gt;&gt; tmp;
      t.push_back( tmp );
    }
    //after first transformation t[i] will have the difference 
    //between former t[i] and t[i+1]. 
    //The last member t[n-1] remains - it will be needed at the end 
    //to find the required amount of seconds to add 
    transform( t.begin(), t.end()-1, t.begin()+1, t.begin(), op_minus );
    //after second transformation t[i] will have the gcd of t[i-1] and t[i]
    //I use the following feature of gcd: gcd(a,b,c) == gcd(gcd(a,b), c)
    //every time we are at t[i] there is alreaady a gcd(t[i-2], t[i-1]) in t[i-1]
    transform( t.begin(), t.end()-2, t.begin()+1, t.begin()+1, gcd );
    
    uint remainder =  t.back() % *(t.end()-2);
    cout &lt;&lt; &quot;Case #&quot; &lt;&lt; i &lt;&lt; &quot;: &quot; &lt;&lt;
            (remainder &gt; 0 ?  *(t.end()-2) - remainder : 0 )&lt;&lt; endl;
  }
}
</code></pre>
<p>This code does not solve the large input as there are integers up to 10<sup>50</sup>, and we need to use a bigint class, which I didn't find/write myself.</p>
<h3>Theme Park</h3>
<p>This is the hardest one to solve, because small input can be solved with straight approach, but the large one needs some different. And I couldn't figure it out. (<a href="http://code.google.com/codejam/contest/dashboard?c=433101#s=p2" class="external">Problem Text</a>) The code that solves the small input is pretty straightforward. We take the group at the beginning of the queue as soon as it can fit in roller coaster. And don't forget that 1 and the same group cannot be taken twice in 1 run (that may happen if number of seats in roller coaster is more than all the number of people in queue)</p>
<pre><code class="cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;

using namespace std;

typedef unsigned int uint;

int main(){
  uint t, r, k, n, tmp, sum, total;
  cin &gt;&gt; t;
  for (uint i=1; i&lt;=t; i++){
    cin &gt;&gt; r &gt;&gt; k &gt;&gt; n;
    vector&lt;uint&gt; g;
    total = 0;
    for (uint j=0; j&lt;n; j++){
      cin &gt;&gt; tmp;
      g.push_back( tmp );
    }
    uint a=0;
    for (uint j=0; j&lt;r; j++){
      uint sum = 0;
      for (uint b=0;  b&lt;n &amp;&amp; sum + g[a] &lt;= k; a=(a+1)%n, b++ ){
        sum += g[a];
      }
      //cout &lt;&lt; &quot;sum: &quot; &lt;&lt; sum &lt;&lt; &quot; &quot;;
      total += sum;
    }
    cout &lt;&lt; &quot;Case #&quot; &lt;&lt; i &lt;&lt; &quot;: &quot; &lt;&lt; total &lt;&lt; endl;
  }
}</code></pre>
<p>Pity, the same approach is too slow for large input.</p>
<p>The "official" solutions can be found <a href="http://code.google.com/codejam/contest/dashboard?c=433101#s=a" class="external">here</a>.