---
layout: post
title: Проблемы с запуском графической части Ubuntu (gdm)
date: '2008-05-31T09:32:00.009+03:00'
author: Juri Timošin
tags:
- gdm
- Ubuntu
modified_time: '2010-03-11T13:40:33.265+02:00'
blogger_id: tag:blogger.com,1999:blog-360329120074358364.post-1032256262655221028
blogger_orig_url: http://dracoater.blogspot.com/2008/05/ubuntu-gdm.html
---

<p>Проблема была в кратце такова, что при нормальной загрузке Ubuntu моментально подвисала, как только показывалось графическое окно login. В то же время, если сначала загрузиться в recovery mode, а потом запустить графическую оболочку (startx), то всё работало нормально.</p>

<p>Напрашивается вывод, что при recovery mode Ubuntu не загружает некоторые модули, которые возможно конфликтуют с gdm. Как это выяснить?</p>

<p>Прежде всего загружаемся в recovery mode и из-под roota выполняем команду
<code class="sh">sysvconfig</code>
Там весь список загружаемых модулей. Убираем на время gdm. Сохраняем, выходим. Теперь при нормальной загрузке, компьютер не будет виснуть и мы сможем посмотреть какие модули им загружены.</p>

<p>Теперь всё в той же root консоли набираем
<code class="sh">dmesg &gt; /home/[ваш username]/failsafe.log</code>
что сохранит лог загрузки в файл.</p>

<p>Также устанавливаем хороший diff'ер
<code class="sh">apt-get install meld</code>
Теперь можем спокойно перезагрузиться в нормальном режиме.</p>

<p>Так как мы в самом начале отключили загрузку gdm, то после перезагрузки мы снова в консоли. Нужно залогиниться и выполнить аналогичную команду, чтоб записать лог загрузки. 
<code class="sh">dmesg &gt; /home/[ваш username]/normal.log</code></p>

<p>Осталось только сравнить эти два лога. Я использовал удобство gdm,- загрузился туда через recovery mode, сравнил через meld эти 2 файла (!! meld сравнивает посимвольно а не построчно, поэтому различия в начале строк, которые являются временем загрузки не сильно волновали !!). В файлах явно читались названия модулей подгружаемых при обычном старте и игнорируемых в recovery mode. У меня это были bluetooth и powernowd. Поэтому, снова запустив sysvconfig, отключил bluetooth, powernowd и powernowd.early, не забыл включить gdm и перезагрузился в нормальном режиме.</p>

<p>Теперь всё работает.</p>